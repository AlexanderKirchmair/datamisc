---
title: "package_dev"
---

```{r setup, include=FALSE}

library(devtools)
library(testthat)

```



https://r-pkgs.org/
https://pkgdown.r-lib.org/index.html

To do:
* add easyverse


```{r initial setup}

# create_package("newfolder") # File > New Project... > ...
use_mit_license()
use_readme_rmd()
use_pipe()

```

```{r package startup}

load_all()

```



Dependencies
```{r}

use_package("ggplot2")
use_package("ggrepel")
use_package("rlang")
use_package("scales")
use_package("magrittr")
use_package("dplyr")

use_package("openxlsx")
use_package("ComplexHeatmap")
use_package("circlize")

use_package("ggdendro")
use_package("paletteer")
use_package("BiocParallel")
use_package("patchwork")
use_package("limma")
use_package("edgeR")
use_package("DESeq2")
use_package("GSVA")
use_package("fgsea")
use_package("tximport")

use_package("colorDF", type = "Suggests")
use_package("colourpicker", type = "Suggests")
use_package("prismatic", type = "Suggests")
use_package("dendsort", type = "Suggests")
use_package("crayon", type = "Suggests")
use_package("qualpalr", type = "Suggests")

use_package("survival", type = "Suggests")
use_package("survminer", type = "Suggests")
use_package("rms", type = "Suggests")

use_package("cowplot", type = "Suggests")
use_package("missMDA", type = "Suggests")
use_package("plyr", type = "Suggests")
use_package("tibble", type = "Suggests")
use_package("tidyr", type = "Suggests")
use_package("yaml", type = "Suggests")

```

Add R scripts
```{r}

use_r("meta_functions.R")
use_r("plotting_functions")


```


Update documentation
```{r}

# Code > Insert Roxygen Skeleton
document()
# devtools::build_manual()
# roxygen2::roxygenize()
```



```{r}

# usethis::use_vignette("survival")


```






Add unit tests
```{r}

lapply(list.files("R/", pattern = ".R"), use_test)

```


Test/check
```{r check}

# test()
check() # or Build > Check Package

```


```{r}

usethis::use_build_ignore("package_dev.Rmd")
usethis::use_build_ignore("desktop.ini")

```

```{r}

devtools::build_readme()

```


Install the package
```{r}

install()

```




